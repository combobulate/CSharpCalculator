# CSharpCalculator

A [C#/Windows Forms tutorial exercise](https://www.homeandlearn.co.uk/csharp/csharp_s2p15.html) that spiralled out into a more complicated project. Some things I've explored:
* I quickly found that the code I was writing and the code the tutorial was recommending were very different. In particular, I set up *numberButton*, *operationButton*, and *calculate* methods so that most of the buttons simply called whichever of the first two was appropriate and so that mathematical operation buttons could combine equals-sign behavior with appending another operation. This avoids a lot of code repetition and repetitive edits anytime I wanted to change something. Operations are handled by passing these characters into a switch statement, rather than by setting up an oodle of booleans for an oodle of if/else statements. This makes managing the logic easier to trace and troubleshoot overall.
* Once I got the basic operations working, I had to handle how many digits to display and how to handle rounding. Up to 9 digits (including a minus sign, not including a decimal point) are shown in the big number view, but mathematical operations use full double precision.
* I also wanted to add a history view. Implementing this with a ListView seemed ideal, but had some unintuitive behaviors. For example, by default when the box height was exceeded, new items were added in a new column to the right, causing a horizontal scroll. Structuring items in a column enforced vertical scroll. I also wanted the most recently added item to be visible in the ListView after adding, which was accomplished by using the EnsureVisible method on the new item. I had hoped to have mathematical operations left-justified and their results right-justified, but that seems to require redrawing stuff which was undesirable; I might revisit this in the future, but some added whitespace seems good for now. This history view turned out to also be convenient for troubleshooting.
* Adding commas to a string for large number readability is mostly a trivial exercise, but wound up forcing some nice improvements on the code, including improving the clarity of the *displayResult* method which formats numbers for display. It also forced greater consistency in how numbers were handled for displaying vs storing.
